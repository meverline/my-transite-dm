<project xmlns:ivy="antlib:org.apache.ivy.ant" name="utilities" basedir=".">

	<loadproperties srcFile="${basedir}/../config/properties/build.all.properties"/>
	<loadproperties srcFile="${basedir}/../config/properties/build.${os.name}.properties"/>

	<target name="property-list" description="--> list project properties">
		<echoproperties prefix="ivy."/>
	</target>
	
	<target name="clean-cache" description="--> cleans the ivy cache">
		<ivy:settings file="${ivy.settings.file}" />
		<ivy:cleancache />
		<delete>
			<fileset dir="${lib}" includes="**/*.jar"/>
			<fileset dir="${lib.dir}/source" includes="**/**"/>
			<fileset dir="${lib.dir}/javadoc" includes="**/**"/>
		</delete>
	</target>
	
	<target name="resolve" description="--> retrieve dependencies with ivy">
		<ivy:settings file="${ivy.settings.file}" />
		<ivy:retrieve pattern="${lib.dir}/[type]/[artifact]-[revision].[ext]" />
	</target>
			
	<target name="clean" description="--> clean up" >
		<!-- Delete the ${build} and ${dist} directory trees -->
		<delete dir="${build}"/>
		<delete dir="${dist}"/>
		<delete dir="${lib}"/>
	</target>
	
</project>